<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Discutez avec Watty</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#4F46E5",
                        "background-light": "#FFFFFF",
                        "background-dark": "#121212",
                    },
                    fontFamily: {
                        display: ["Poppins", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "1rem",
                    },
                },
            },
        };
    </script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        .typing-indicator {
            display: inline-flex;
            gap: 4px;
        }

        .typing-indicator span {
            width: 8px;
            height: 8px;
            background: #9333ea;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-10px);
            }
        }

        /* Masquer la fl√®che native du select sur tous les navigateurs */
        select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: none !important;
        }

        /* Pour IE10+ et Edge */
        select::-ms-expand {
            display: none;
        }
    </style>
    <style>
        body {
            min-height: max(884px, 100dvh);
        }
    </style>
    <link rel="stylesheet" href="styles.css">
</head>

<body
    class="bg-gradient-to-b from-orange-50 to-blue-200 dark:from-gray-900 dark:to-blue-900 min-h-screen text-gray-800 dark:text-gray-200">
    <header
        class="flex justify-between items-center py-4 px-4 sm:px-6 sticky top-0 z-50 bg-white/30 dark:bg-slate-900/30 backdrop-blur-sm">
        <div class="flex items-center gap-4">
            <a href="Home_desktop.html"
                class="flex items-center gap-2 px-4 py-2 text-sm font-semibold text-primary border-2 border-primary rounded-full hover:bg-primary/10 transition-colors bg-white/50 dark:bg-gray-800/50">
                <span class="material-icons text-primary" style="font-size: 20px;">home</span>
                <span>Accueil</span>
            </a>
            <a href="Estimation_desktop.html"
                class="px-4 py-2 text-sm font-semibold text-primary border-2 border-primary rounded-full hover:bg-primary/10 transition-colors bg-white/50 dark:bg-gray-800/50">
                Estimez
            </a>
        </div>
        <div class="flex items-center gap-4">
            <a href="Bons_gestes.html"
                class="px-4 py-2 text-sm font-semibold text-primary border-2 border-primary rounded-full hover:bg-primary/10 transition-colors bg-white/50 dark:bg-gray-800/50">
                Les bons gestes !
            </a>
            <a href="About-us_desktop.html"
                class="px-4 py-2 text-sm font-semibold text-primary border-2 border-primary rounded-full hover:bg-primary/10 transition-colors bg-white/50 dark:bg-gray-800/50">
                Qui sommes-nous ?
            </a>
        </div>
    </header>

    <div class="container mx-auto p-4 max-w-4xl">
        <main class="py-8">
            <!-- Page Title -->
            <h1 class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2 text-center">
                Discutez avec Watty !
            </h1>
            <p class="text-center text-gray-600 dark:text-gray-400 mb-8">
                Posez vos questions √† Watty, votre assistant √©nergie personnel
            </p>

            <!-- Chatbot Container -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden">
                <!-- Chatbot Header -->
                <div class="bg-gradient-to-r from-purple-600 to-blue-600 p-6 text-white">
                    <div class="flex items-center gap-4">
                        <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg">
                            <img src="Images/Image_6.png" alt="Watty" class="w-14 h-14 object-contain" />
                        </div>
                        <div>
                            <h2 class="text-2xl font-bold">Watty</h2>
                            <p class="text-sm opacity-90">Votre assistant √©nergie</p>
                        </div>
                    </div>
                </div>

                <!-- Chat Messages Area -->
                <div class="p-6 min-h-[400px] max-h-[500px] overflow-y-auto space-y-4" id="chatMessages">
                    <!-- Welcome Message -->
                    <div class="flex items-start gap-3 animate-fade-in">
                        <div
                            class="w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                            <img src="Images/Image_6.png" alt="Watty" class="w-8 h-8 object-contain" />
                        </div>
                        <div
                            class="bg-gradient-to-r from-purple-100 to-blue-100 dark:from-purple-900/30 dark:to-blue-900/30 rounded-2xl rounded-tl-none p-4 max-w-[80%]">
                            <p class="text-gray-800 dark:text-gray-200">
                                Bonjour ! Je suis Watty, votre assistant personnel pour √©conomiser l'√©nergie.
                                S√©lectionnez une question dans le menu ci-dessous et je vous donnerai des conseils
                                pratiques !
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Question Selection -->
                <div class="p-6 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700">
                    <label for="questionSelect"
                        class="block text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300">
                        Choisissez une question :
                    </label>
                    <span class="relative block">
                        <select id="questionSelect"
                            class="w-full bg-blue-100 dark:bg-slate-700 border-2 border-primary text-primary font-semibold text-sm rounded-lg py-3 pl-4 pr-10 focus:outline-none focus:ring-2 focus:ring-primary cursor-pointer"
                            onchange="handleQuestion()">
                            <option value="">-- S√©lectionnez une question --</option>
                            <option value="q1">Quels gestes simples pour r√©duire ma facture √©lectrique ?</option>
                            <option value="q2">Comment bien contr√¥ler la temp√©rature de mon logement ?</option>
                            <option value="q3">Comment limiter les pertes de chaleur chez moi ?</option>
                            <option value="q4">Pourquoi un bon DPE est-il important ?</option>
                        </select>
                        <span
                            class="material-icons absolute right-3 top-1/2 -translate-y-1/2 text-primary pointer-events-none">expand_more</span>
                    </span>
                </div>

                <!-- CTA Button -->
                <div class="p-6 bg-gradient-to-r from-purple-600 to-blue-600">
                    <button
                        class="w-full bg-white text-purple-600 font-bold px-6 py-4 rounded-xl hover:bg-gray-100 transition-all transform hover:scale-[1.02] shadow-lg"
                        onclick="window.location.href='Estimation_desktop.html'">
                        Faire mon estimation DPE
                    </button>
                </div>
            </div>

            <!-- Section Ressources officielles -->
            <div class="mt-12">
                <h2 class="text-2xl font-bold text-blue-600 dark:text-blue-400 mb-6 text-center">
                    Ressources officielles
                </h2>
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                    <p class="text-gray-700 dark:text-gray-300 mb-4 text-center">
                        Pour aller plus loin, consultez les guides officiels du gouvernement :
                    </p>
                    <div class="space-y-3">
                        <!-- Lien 1 -->
                        <a href="https://www.service-public.gouv.fr/particuliers/vosdroits/F16096" target="_blank"
                            rel="noopener noreferrer"
                            class="flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg hover:shadow-md transition-all group">
                            <span
                                class="material-icons text-blue-600 dark:text-blue-400 text-3xl group-hover:scale-110 transition-transform">description</span>
                            <div class="flex-1">
                                <h3
                                    class="font-semibold text-gray-800 dark:text-gray-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
                                    Guide de la performance √©nerg√©tique
                                </h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Service-Public.fr - Informations sur
                                    le DPE</p>
                            </div>
                            <span
                                class="material-icons text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">arrow_forward</span>
                        </a>

                        <!-- Lien 2 -->
                        <a href="https://www.ecologie.gouv.fr/politiques-publiques/diagnostic-performance-energetique-dpe"
                            target="_blank" rel="noopener noreferrer"
                            class="flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg hover:shadow-md transition-all group">
                            <span
                                class="material-icons text-green-600 dark:text-green-400 text-3xl group-hover:scale-110 transition-transform">eco</span>
                            <div class="flex-1">
                                <h3
                                    class="font-semibold text-gray-800 dark:text-gray-200 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors">
                                    Politiques publiques sur le DPE
                                </h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Minist√®re de la Transition
                                    √âcologique</p>
                            </div>
                            <span
                                class="material-icons text-gray-400 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors">arrow_forward</span>
                        </a>

                        <!-- Lien 3 -->
                        <a href="https://www.service-public.fr/particuliers/actualites/A17975" target="_blank"
                            rel="noopener noreferrer"
                            class="flex items-center gap-3 p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg hover:shadow-md transition-all group">
                            <span
                                class="material-icons text-purple-600 dark:text-purple-400 text-3xl group-hover:scale-110 transition-transform">lightbulb</span>
                            <div class="flex-1">
                                <h3
                                    class="font-semibold text-gray-800 dark:text-gray-200 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors">
                                    Actualit√©s et conseils pratiques
                                </h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400">Service-Public.fr - Les bons gestes
                                    au quotidien</p>
                            </div>
                            <span
                                class="material-icons text-gray-400 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors">arrow_forward</span>
                        </a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <footer class="mt-12 text-center text-gray-500 dark:text-gray-400 text-sm overflow-hidden">
        <p class="mb-4">Cr√©√© par l'√©quipe Des P'tites Economies</p>
        <div class="logo-slider">
            <div class="logo-track">
                <!-- Original Logos -->
                <img alt="Logo HEC Paris" class="h-16 mx-8 object-contain" src="Images/Image_2.png" />
                <img alt="Logo Open Data University" class="h-16 mx-8 object-contain" src="Images/Image_4.png" />
                <img alt="Logo Des P'tites Economies" class="h-20 mx-8 object-contain" src="Images/Image_5.png" />
                <img alt="Logo Enedis" class="h-16 mx-8 object-contain" src="Images/Image_1.png" />
                <!-- Duplicated Logos -->
                <img alt="Logo HEC Paris" class="h-16 mx-8 object-contain" src="Images/Image_2.png" />
                <img alt="Logo Open Data University" class="h-16 mx-8 object-contain" src="Images/Image_4.png" />
                <img alt="Logo Des P'tites Economies" class="h-20 mx-8 object-contain" src="Images/Image_5.png" />
                <img alt="Logo Enedis" class="h-16 mx-8 object-contain" src="Images/Image_1.png" />
                <!-- Triplicated Logos for wide screens -->
                <img alt="Logo HEC Paris" class="h-16 mx-8 object-contain" src="Images/Image_2.png" />
                <img alt="Logo Open Data University" class="h-16 mx-8 object-contain" src="Images/Image_4.png" />
                <img alt="Logo Des P'tites Economies" class="h-20 mx-8 object-contain" src="Images/Image_5.png" />
                <img alt="Logo Enedis" class="h-16 mx-8 object-contain" src="Images/Image_1.png" />
            </div>
        </div>
    </footer>

    <script>
        const questions = {
            q1: {
                question: "Quels gestes simples pour r√©duire ma facture √©lectrique ?",
                answer: `Ah, excellente question ! Voici quelques astuces qui font vraiment la diff√©rence sur votre facture 

<strong>üå°Ô∏è Baisser l√©g√®rement le chauffage</strong>
Saviez-vous qu'en r√©duisant la temp√©rature de seulement 1¬∞C, vous √©conomisez environ 7% d'√©nergie ? Et franchement, vous ne sentirez presque aucune diff√©rence de confort !

<strong>üîå √âteindre les appareils en veille</strong>
Vos t√©l√©visions, box internet, consoles et ordinateurs consomment m√™me quand vous ne les utilisez pas. Mon conseil : utilisez des multiprises avec interrupteur. Un geste simple le soir et hop, √©conomies garanties !

<strong>üí° Optimiser l'√©clairage</strong>
Remplacez vos vieilles ampoules halog√®nes par des LED. Vous pouvez r√©duire votre consommation d'√©clairage jusqu'√† 80% ! C'est √©norme, non ?

<strong>‚ú® Adopter des comportements sobres</strong>
Les petits gestes comptent : √©teindre les lumi√®res en quittant une pi√®ce, fermer les fen√™tres quand le chauffage ou la clim fonctionne... Ces habitudes deviennent vite automatiques !`
            },
            q2: {
                question: "Comment bien contr√¥ler la temp√©rature de mon logement ?",
                answer: `Super question ! La temp√©rature, c'est LA cl√© pour allier confort et √©conomies 

<strong>üè† Adapter chaque pi√®ce</strong>
Toutes les pi√®ces n'ont pas besoin de la m√™me temp√©rature :
‚Ä¢ Pi√®ces de vie : 19¬∞C (c'est confortable, promis !)
‚Ä¢ Chambres : 17¬∞C (parfait pour bien dormir)
‚Ä¢ Salle de bain : 22¬∞C en usage ponctuel seulement

√âviter les surchauffes, c'est le bon compromis entre confort et √©conomies !

<strong>‚è∞ Programmation et entretien</strong>
Programmez votre chauffage selon vos plages d'occupation. En absence ou la nuit, baissez la temp√©rature. Votre porte-monnaie vous remerciera !

N'oubliez pas d'entretenir r√©guli√®rement votre chaudi√®re et de purger vos radiateurs. Un syst√®me bien entretenu = un rendement optimal.

<strong>ü§ñ Installer des thermostats intelligents</strong>
Ces petits bijoux de technologie apprennent vos habitudes, r√©gulent pr√©cis√©ment la temp√©rature et √©vitent les gaspillages. Un investissement qui se rentabilise vite !`
            },
            q3: {
                question: "Comment limiter les pertes de chaleur chez moi ?",
                answer: `Ah, les pertes de chaleur... le cauchemar de toute facture ! Voici mes meilleurs conseils 

<strong>üåô Fermer les volets et stores</strong>
La nuit ou en cas d'absence, fermez vos volets ! C'est simple mais √ßa conserve vraiment la chaleur √† l'int√©rieur.

<strong>ü™ü Utiliser des rideaux thermiques</strong>
Ils cr√©ent une barri√®re isolante devant les fen√™tres. C'est styl√© ET efficace !

<strong>üîß Colmater les infiltrations d'air</strong>
V√©rifiez :
‚Ä¢ Les joints us√©s autour des fen√™tres
‚Ä¢ Les passages sous les portes
‚Ä¢ Les fissures

Un simple joint adh√©sif ou un boudin de porte peut faire des merveilles !

<strong>üö´ D√©placer les obstacles devant les radiateurs</strong>
Meubles ou rideaux devant les radiateurs ? Mauvaise id√©e ! Ils bloquent la diffusion de la chaleur.

<strong>‚ú® L'effet global</strong>
Ces r√©flexes am√©liorent votre confort thermique, r√©duisent les courants d'air froid et diminuent vos besoins en chauffage. Que du positif !`
            },
            q4: {
                question: "Pourquoi un bon DPE est-il important ?",
                answer: `Oh l√† l√†, LE sujet essentiel ! Un bon DPE, c'est vraiment important, et je vais vous dire pourquoi 

<strong>üí∞ R√©duire vos factures et votre impact environnemental</strong>
Un logement bien class√© consomme beaucoup moins pour le chauffage et l'eau chaude. R√©sultat ? Des factures all√©g√©es et moins d'√©missions de CO‚ÇÇ. C'est bon pour votre porte-monnaie ET pour la plan√®te !

<strong>üòå Am√©liorer le confort et la qualit√© de vie</strong>
Un logement performant √©nerg√©tiquement, c'est :
‚Ä¢ Une meilleure isolation
‚Ä¢ Des temp√©ratures homog√®nes dans toutes les pi√®ces
‚Ä¢ Moins d'humidit√©
‚Ä¢ Un logement plus confortable et plus sain

Qui n'en r√™ve pas ?

<strong>üèÜ Valoriser votre bien et respecter la loi</strong>
Un bon DPE augmente l'attractivit√© de votre logement √† la vente ou √† la location. Et attention, c'est aussi une obligation l√©gale : les logements class√©s F et G sont progressivement interdits √† la location !

Alors, convaincu de l'importance d'un bon DPE ? `
            }
        };

        let conversationHistory = [];

        function handleQuestion() {
            const select = document.getElementById('questionSelect');
            const questionKey = select.value;

            if (!questionKey) return;

            const questionData = questions[questionKey];
            const chatMessages = document.getElementById('chatMessages');

            // Add user question
            const userMessage = document.createElement('div');
            userMessage.className = 'flex items-start gap-3 justify-end animate-fade-in';
            userMessage.innerHTML = `
                <div class="bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-2xl rounded-tr-none p-4 max-w-[80%]">
                    <p>${questionData.question}</p>
                </div>
                <div class="w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white text-xl">üë§</span>
                </div>
            `;
            chatMessages.appendChild(userMessage);

            // Add typing indicator
            const typingDiv = document.createElement('div');
            typingDiv.className = 'flex items-start gap-3 animate-fade-in';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <img src="Images/Image_6.png" alt="Watty" class="w-8 h-8 object-contain" />
                </div>
                <div class="bg-gradient-to-r from-purple-100 to-blue-100 dark:from-purple-900/30 dark:to-blue-900/30 rounded-2xl rounded-tl-none p-4">
                    <div class="typing-indicator">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            chatMessages.appendChild(typingDiv);

            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Simulate thinking time
            setTimeout(() => {
                // Remove typing indicator
                const indicator = document.getElementById('typingIndicator');
                if (indicator) indicator.remove();

                // Add Watty's response
                const wattyMessage = document.createElement('div');
                wattyMessage.className = 'flex items-start gap-3 animate-fade-in';
                wattyMessage.innerHTML = `
                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                        <img src="Images/Image_6.png" alt="Watty" class="w-8 h-8 object-contain" />
                    </div>
                    <div class="bg-gradient-to-r from-purple-100 to-blue-100 dark:from-purple-900/30 dark:to-blue-900/30 rounded-2xl rounded-tl-none p-4 max-w-[80%]">
                        <p class="text-gray-800 dark:text-gray-200 whitespace-pre-line">${questionData.answer}</p>
                    </div>
                `;
                chatMessages.appendChild(wattyMessage);

                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;

                // Reset select
                select.value = '';
            }, 1500);
        }
    </script>

</body>

</html>